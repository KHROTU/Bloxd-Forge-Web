<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>BloxdForge Launcher</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../css/1page.css">
</head>
<body>
  <div id="start">
    <div id="iframe-modal">
      <iframe id="modal-iframe" src=""></iframe>
    </div>
    <bigbutton id="bigbutton">
      <span>Featured Experience: </span>
      <span2 id="featured-world-name">Loading...</span2>
    </bigbutton>
    <button id="bloxd">
      <img alt="Bloxd Logo" src="../images/b.png" width="200"/>
      Bloxd.io
    </button>
    <button id="bloxd-staging">
      <img alt="Bloxd Staging Logo" src="../images/bs.png" width="200"/>
      Bloxd.io Staging
    </button>
    <button id="world-forge">
      <img alt="World Forge Logo" src="../images/wf.png" width="200"/>
      World Forge
    </button>
  </div>
  <div id="iframe-container">
    <iframe id="iframe"></iframe>
  </div>
  <div id="menu">
    <div id="menu-grid">
      <div class="menu-option" id="dark-mode-toggle">
        <i class="fas fa-moon"></i>
        Dark Mode
        <span class="description">Toggle dark mode</span>
      </div>
      <div class="menu-option" id="fps-ping-toggle">
        <i class="fas fa-tachometer-alt"></i>
        FPS/Ping
        <span class="description">Show performance metrics</span>
      </div>
      <div class="menu-option" id="coordinate-saver-toggle">
        <i class="fas fa-map-marker-alt"></i>
        Coordinates
        <span class="description">Save and manage locations</span>
      </div>
      <div class="menu-option" id="resolution-toggle">
        <i class="fas fa-compress-arrows-alt"></i>
        Resolution
        <span class="description">Adjust game resolution</span>
      </div>
      <div class="menu-option" id="filter-menu-toggle">
        <i class="fas fa-sliders-h"></i>
        Filters
        <span class="description">Apply filters (BETA)</span>
      </div>
      <div class="menu-option" id="draggable-window-toggle">
        <i class="fas fa-microchip"></i>
        AI Agent
        <span class="description">Boot the AI Agent</span>
      </div>
      <div class="menu-option" id="record-menu-toggle">
        <i class="fas fa-video"></i>
        Record
        <span class="description">Record gameplay</span>
      </div>
    </div>
    <div id="menu-bottom">
      <div class="menu-option" id="menu-customize-toggle">
        <i class="fas fa-cog"></i>
        Customize
      </div>
      <div class="menu-option" id="new-mod">
        <i class="fas fa-plus"></i>
        New Mod
      </div>
      <div class="menu-option" id="close-iframe">
        <i class="fas fa-power-off"></i>
        Close session
      </div>
      <div class="menu-option" id="close-menu">
        <i class="fas fa-times"></i>
        Close
      </div>
    </div>
    <div id="filter-menu" style="display: none;">
      <h1>Filter Menu</h1>
      <div id="filter-form">
        <label for="filter-select">Select Filter:</label>
        <select id="filter-select">
          <option value="none">None</option>
          <option value="grayscale">Grayscale</option>
          <option value="sepia">Sepia</option>
          <option value="saturate">Saturate</option>
          <option value="contrast">High Contrast</option>
        </select>
        <div class="filter-controls">
          <button id="apply-filter">Apply</button>
          <button id="close-filter-menu">Close</button>
        </div>
      </div>
    </div>
    <div id="resolution-menu" style="display: none;">
      <h1>Resolution Settings</h1>
      <div id="resolution-form">
        <label for="resolution-scale">Resolution Scale:</label>
        <input id="resolution-scale" type="text" inputmode="numeric" pattern="[0-9.]*" placeholder="e.g., 1 or 0.75"/>
        <div class="resolution-buttons">
          <button id="apply-resolution">Apply</button>
          <button id="close-resolution-menu">Close</button>
        </div>
      </div>
    </div>
  </div>
  <div id="record-menu" style="display: none;">
    <h1>Record</h1>
    <button class="UMIBtn" id="streamingbt">Start Streaming</button>
    <button class="UMIBtn" id="recordingbt" disabled>Start Recording</button>
    <div class="record-bottom-buttons">
      <button id="close-record-menu">Close</button>
    </div>
  </div>
  <div class="dark-mode-overlay" id="dark-overlay"></div>
  <div id="coordinate-saver">
    <h1>Coordinate Saver</h1>
    <div id="coordinate-form">
      <label for="x">X Coordinate:</label>
      <input id="x" required type="text" inputmode="numeric" pattern="[0-9\-]*" oninput="this.value=this.value.replace(/[^0-9\-]/g,'')"/>
      <br/>
      <label for="y">Y Coordinate:</label>
      <input id="y" required type="text" inputmode="numeric" pattern="[0-9\-]*" oninput="this.value=this.value.replace(/[^0-9\-]/g,'')"/>
      <br/>
      <label for="z">Z Coordinate:</label>
      <input id="z" required type="text" inputmode="numeric" pattern="[0-9\-]*" oninput="this.value=this.value.replace(/[^0-9\-]/g,'')"/>
      <br/>
      <label for="name">Name:</label>
      <input id="name" required type="text"/>
      <br/>
      <button id="save-button">Save Coordinates</button>
    </div>
    <div id="saved-coordinates">
      <h2>Saved Coordinates</h2>
      <ul id="coordinates-list"></ul>
    </div>
    <button id="close-coordinate-saver">Close</button>
  </div>
  <button id="drag-button">☰</button>
  <div id="fps-ping-display">
    <span id="fps-display">FPS: 0</span>
    <span id="ping-display">Ping: 0 ms</span>
  </div>
  <div id="draggable-window">
    <div id="draggable-window-header">
      <span>BForge agent</span>
      <button id="draggable-window-close">×</button>
    </div>
    <iframe id="draggable-window-iframe" src="agent.html"></iframe>
  </div>
  <div id="menu-customize-modal">
    <div class="menu-customize-content">
      <h2>Customize Menu</h2>
      <div id="menu-customize-list"></div>
      <div class="menu-customize-modal-buttons">
        <button onclick="saveMenuCustomization()">Save Changes</button>
        <button onclick="closeMenuCustomizationModal()">Cancel</button>
      </div>
    </div>
  </div>
  <div id="new-mod-modal">
    <div class="new-mod-content">
      <h2>New Mod</h2>
      <input type="text" id="NewModName" placeholder="Enter Mod Name">
      <button class="UMIBtn" onclick="UploadHTML()">Upload Custom Html</button>
      <div class="new-mod-modal-buttons">
        <button onclick="CreateNewMod()">Create</button>
        <button onclick="closeNewModModal()">Cancel</button>
      </div>
    </div>
  </div>
  <div id="UploadHTMLModal">
    <div class="new-mod-content">
      <h2>Upload Custom HTML</h2>
      <textarea id="customHtml" placeholder="Put custom HTML here..."></textarea>
      <div class="new-mod-modal-buttons">
        <button onclick="closeCHTMLModal()">OK</button>
        <button onclick="closeCHTMLModal()">Cancel</button>
      </div>
    </div>
  </div>
  <div class="recording-indicator" id="recordingIndicator"></div>
  <script src="../js/1page.js"></script>
</body>
</html>