<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BloxdForge - One Stop Solution to Bloxd Gaming</title>
    <meta name="description" content="Bloxd Forge is a Bloxd QOL (Quality-Of-Life) improvement mod that offers texture-packs, a FPS booster, a chat, and a discord for support.">
    <meta name="keywords" content="bloxd, forge, bloxdforge, bloxd forge, bloxd forge plus, chromebook bloxd, bloxd unblocked, minecraft web unblocked, minecraft free, bloxdforge plus, bloxd forge plus, bloxd multiplayer, bloxd bedwars, bloxd skywars, minecraft cracked, minecraft cracked bedwars, minecraft cracked skywars, bloxxd 4v4, bloxd pvp, bloxd autoclicker, bloxd fps booster, bloxd texture packs, bloxd texture pack, bloxd tpack, forge bloxd, forgebloxd, bloxdforge web, bloxd forge web, minecraft browser, minecraft online, minecraft multiplayer browser, minecraft web, minecraft web client, bloxd forge client, bloxd client, bloxd web, bloxd forge web client, minecraft web multiplayer, minecraft browser game, minecraft web game, bloxd forge game, bloxd game, bloxd web game, bloxd forge web game, minecraft unblocked school, minecraft school unblocked, bloxd forge school, bloxd school, minecraft browser unblocked, minecraft online unblocked, bloxd forge unblocked, bloxd unblocked game, minecraft web version, bloxd forge version, bloxd version">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="https://i.imgur.com/xiYy0O6.png" type="image/png">
    
    <style>
        body {
            font-family: 'Rubik', sans-serif;
            font-size: 16px;
            margin: 0;
            padding: 0;
            display: flex;
            background-color: #181818;
            height: 100vh;
            overflow: hidden;
        } 

        .sidebar {
            width: 100px;
            background: linear-gradient(180deg, #242424, #181818);
            color: #fff;
            height: 98vh;
            padding-top: 20px;
            border-radius: 10px;
            position: fixed;
            top: 10px;
            left: 10px;
            box-shadow: 2px 0 15px rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.3s ease;
        }

        .sidebar.hidden {
            transform: translateX(-100%);
        }

        .sidebar a {
            text-decoration: none;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            transition: 0.3s, transform 0.2s, box-shadow 0.3s;
            background-color: transparent;
            text-align: center;
            width: 50%;
        }

        .sidebar a:hover, .sidebar a.selected {
            background-color: #ff8c00 ;
            transform: scale(1.1);
            box-shadow: 0 0 15px #ff8c00 ;
        }

        .sidebar a i {
            font-size: 28px;
            margin-bottom: 5px;
        }

        .sidebar a span {
            font-size: 12px;
            font-weight: bold;
            color: #fff;
            transition: color 0.3s ease;
        }

        .sidebar a:hover span {
            color: white;
        }

        .content {
            margin-left: 100px;
            padding: 20px;
            color: white;
            flex-grow: 1;
            transition: all 0.3s ease;
        }

        .content.fullscreen {
            margin-left: 0;
        }

        h1 {
            color: #FFA500;
            text-shadow: 0 0 8px #FFA500;
        }

        .iframe-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
            width: 100%;
            margin-right: 10px;
            transition: all 0.3s ease;
            border-radius: 10px;
        }

        iframe {
            width: 100%;
            height: 100%;
            border-radius: 10px;
            background-color: #181818;
            margin-left: 10px;
            border: none;
            box-sizing: border-box;
        }

        .iframe-container.fullscreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 9999;
            background: black;
        }

        iframe {
            width: 100%;
            margin: 10px 0;
        }

        .top-right-box {
            position: fixed;
            top: 0px;
            right: 14px;
            background-color: rgba(51, 51, 51, 0.7);
            padding: 8px;
            border-radius: 0 0 10px 10px;
            display: flex;
            align-items: flex-start;
            justify-content: flex-start;
            z-index: 20;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
            transition: height 0.3s ease, transform 0.3s ease;
            overflow: hidden;
            backdrop-filter: blur(10px);
            max-width: 90vw;
            width: auto;
            min-width: 200px;
            box-sizing: border-box;
        }

        .top-right-box.expanded {
            height: 190px;
            backdrop-filter: blur(0px);
            max-width: 90vw;
        }

        .top-right-box img {
            width: 46%;
            max-width: 200px;
            height: 42px;
            border-radius: 5px;
            margin-right: 10px;
            object-fit: cover;
        }

        .top-right-box.fullscreen {
            transform: scale(0.8) translateX(60px);
            right: 50px;
            backdrop-filter: blur(0px);
            max-width: 90vw;
        }

        .top-right-box.smaller {
            transform: scale(0.8) translateX(60px);
            right: 50px;
            z-index: 9999;
            border-radius: 10px;
            backdrop-filter: blur(0px);
            max-width: 90vw;
        }

        @media (max-width: 768px) {
            .top-right-box {
                right: 10px;
                max-width: 85vw;
            }

            .top-right-box img {
                width: 40%;
                max-width: 150px;
            }
        }

        .download-btn, .fullscreen-btn {
            background-color: #ff8c00 ;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 20px;
            width: 40px;
            height: 40px;
            transition: all 0.3s, box-shadow 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        .download-btn:hover, .fullscreen-btn:hover {
            background-color: #e67e00;
            box-shadow: 0 0 20px #e67e00;
            transform: scale(1.1);
        }

        .folder-menu {
            display: none;
            position: fixed;
            top: 0px;
            right: 230px;
            background-color: rgba(51, 51, 51, 0.7);
            padding: 15px;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            z-index: 30;
            backdrop-filter: blur(10px);
        }

        .folder-menu-btn {
            background-color: #ff8c00 ;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 20px;
            width: 40px;
            height: 40px;
            transition: all 0.3s, box-shadow 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            margin-left: 5px;
        }

        .folder-menu-btn:hover {
            background-color: #e67e00;
            box-shadow: 0 0 20px #e67e00;
            transform: scale(1.1);
        }

        #folder-container div:hover {
            background-color: #ff8c00;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            transform: scale(1.02);
        }

        #upload-folder-btn {
            background-color: #ff8c00 ;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 10px;
            width: 100%;
            text-align: center;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        #upload-folder-btn:hover {
            background-color: #ff8c00;
            box-shadow: 0 0 20px #e67e00;
        }

        .sidebar .sticky-bottom {
            position: absolute;
            bottom: 20px;
            width: 70%;
            left: 50%;
            transform: translateX(-50%);
        }

        .sidebar .sticky-bottom:hover {
            transform: translateX(-50%);
        }

        body.locked {
            overflow: hidden;
        }

        iframe.fullscreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 9999; 
            border: none; 
            margin: 0px 0;
        }

        #fullscreen-iframe-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: black;
            z-index: 9999; 
            opacity: 1;
            transition: opacity 0.6s ease-out;
        }

        #fullscreen-iframe-container.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        #fullscreen-iframe {
            width: 100%;
            height: 100%;
            border: none;
            margin: 0px 0;
        }
    </style>
</head>
<body>
    <div id="fullscreen-iframe-container">
        <iframe id="fullscreen-iframe" src="/app/assets/load.html"></iframe>
    </div>

    <div id="modal-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 999;"></div>

    <div class="sidebar">
        <a href="javascript:void(0)" class="sidebar-link selected" onclick="setActiveLink(this, 'page1')">
            <i class="fas fa-home"></i>
            <span>Start</span>
        </a>
        <a href="javascript:void(0)" class="sidebar-link" onclick="setActiveLink(this, 'page2')">
            <i class="fas fa-toolbox"></i>
            <span>Workshop</span>
        </a>
        <a href="javascript:void(0)" class="sidebar-link" onclick="setActiveLink(this, 'page3')">
            <i class="fas fa-tools"></i>
            <span>Creator</span>
        </a>
        <a href="javascript:void(0)" class="sidebar-link" onclick="setActiveLink(this, 'page4')">
            <i class="fas fa-shopping-cart"></i>
            <span>Shop</span>
        </a>
        <a href="javascript:void(0)" class="sidebar-link" onclick="setActiveLink(this, 'page5')">
            <i class="fas fa-truck"></i>
            <span>Builds</span>
        </a>
        <a href="javascript:void(0)" class="sidebar-link" onclick="setActiveLink(this, 'page6')">
            <i class="fas fa-book"></i>
            <span>Wiki</span>
        </a>
        <a href="javascript:void(0)" class="sidebar-link" onclick="setActiveLink(this, 'page7')">
            <i class="fas fa-info-circle"></i>
            <span>Credits</span>
        </a>
        <a href="javascript:void(0)" class="sidebar-link sticky-bottom" onclick="setActiveLink(this, 'page8')">
            <i class="fas fa-unlock-keyhole"></i>
            <span>Keys</span>
        </a>
    </div>

    <div class="content">
        <div class="iframe-container" id="start-iframe-container">
            <iframe name="start-iframe" src="/app/assets/1page.html"></iframe>
        </div>

        <div class="iframe-container" id="dynamic-iframe-container">
            <iframe name="iframe" src="https://ThisUsedToExistButILostTheFileSoWhoopsies"></iframe>
        </div>

        <div class="top-right-box">
            <img src="https://i.imgur.com/ph4qDah.png" alt="Bloxd Forge Logo" />
            <button class="fullscreen-btn" onclick="toggleFullScreen()">
                <i class="fas fa-expand"></i>
            </button>
            <button class="folder-menu-btn" onclick="toggleFolderMenu()">
                <i class="fas fa-folder"></i>
            </button>
        </div>

        <div id="folder-menu" class="folder-menu">
            <input type="file" id="folder-input" style="display: none;" webkitdirectory multiple />
            <button id="upload-folder-btn" onclick="document.getElementById('folder-input').click()" class="upload-button">
                Upload Folder
            </button>
            <div id="folder-container" style="display: flex; flex-wrap: wrap; gap: 10px;"></div>
        </div>
    </div>

    <script>
        const pages = {
            page1: '/app/assets/1page.html',
            page2: '/app/assets/2page.html',
            page3: '/app/assets/3page.html',
            page4: 'https://www.bloxdforge.com/market/',
            page5: '/app/assets/5page.html',
            page6: '/app/assets/6page.html',
            page7: '/app/assets/7page.html',
            page8: '/app/assets/8page.html',
        };

        function loadPage(pageName) {
            const iframe = document.querySelector('iframe[name="iframe"]');
            iframe.src = pages[pageName];
        }

        function setActiveLink(link, page) {
            const links = document.querySelectorAll('.sidebar-link');
            const startContainer = document.getElementById('start-iframe-container');
            const dynamicContainer = document.getElementById('dynamic-iframe-container');

            links.forEach(l => l.classList.remove('selected'));
            link.classList.add('selected');

            if (page === 'page1') {
                startContainer.style.display = 'block';
                dynamicContainer.style.display = 'none';
            } else {
                startContainer.style.display = 'none';
                dynamicContainer.style.display = 'block';
                loadPage(page);
            }
        }

        function toggleFullScreen() {
            const startIframe = document.querySelector('iframe[name="start-iframe"]');
            const dynamicIframe = document.querySelector('iframe[name="iframe"]');
            const startContainer = document.getElementById('start-iframe-container');
            const dynamicContainer = document.getElementById('dynamic-iframe-container');
            const sidebar = document.querySelector('.sidebar');
            const cornerBox = document.querySelector('.top-right-box');
            
            const isStartFullScreen = startContainer.classList.contains('fullscreen');
            const isDynamicFullScreen = dynamicContainer.classList.contains('fullscreen');

            if (!isStartFullScreen || !isDynamicFullScreen) {
                startContainer.classList.add('fullscreen');
                dynamicContainer.classList.add('fullscreen');
                startIframe.classList.add('fullscreen');
                dynamicIframe.classList.add('fullscreen');
                sidebar.classList.add('hidden');
                cornerBox.classList.add('smaller');
                document.body.classList.add('locked');
            } else {
                startContainer.classList.remove('fullscreen');
                dynamicContainer.classList.remove('fullscreen');
                startIframe.classList.remove('fullscreen');
                dynamicIframe.classList.remove('fullscreen');
                sidebar.classList.remove('hidden');
                cornerBox.classList.remove('smaller');
                document.body.classList.remove('locked');
            }
        }

        const folderMenu = document.getElementById('folder-menu');
        const folderContainer = document.getElementById('folder-container');
        const folderInput = document.getElementById('folder-input');
        let uploadedFolders = 0;

        function toggleFolderMenu() {
            const computedStyle = window.getComputedStyle(folderMenu);
            if (computedStyle.display === 'none') {
                folderMenu.style.display = 'block';
            } else {
                folderMenu.style.display = 'none';
            }
        }

        function addFolderIcon(name) {
            const folderDiv = document.createElement('div');
            folderDiv.textContent = name;
            folderDiv.draggable = true;
            folderDiv.style.cssText = `
                display: flex;
                align-items: center;
                justify-content: center;
                flex-direction: column;
                width: 80px;
                height: 80px;
                background-color: #555;
                color: white;
                border-radius: 5px;
                cursor: grab;
                box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
            `;

            folderDiv.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text/plain', name);
            });

            folderDiv.addEventListener('click', () => {
                folderInput.click();
            });

            folderDiv.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                removeFolder(folderDiv, name);
            });

            folderContainer.appendChild(folderDiv);
        }

        function saveFolders(folders) {
            localStorage.setItem('savedFolders', JSON.stringify(folders));
        }

        function loadFolders() {
            const savedFolders = JSON.parse(localStorage.getItem('savedFolders')) || [];
            savedFolders.forEach(folder => {
                addFolderIcon(folder);
            });
            uploadedFolders = savedFolders.length;
        }

        function removeFolder(folderDiv, folderName) {
            folderDiv.remove();
            let savedFolders = JSON.parse(localStorage.getItem('savedFolders')) || [];
            savedFolders = savedFolders.filter(folder => folder !== folderName);
            saveFolders(savedFolders);
            uploadedFolders--;
        }

        folderInput.addEventListener('change', async (event) => {
            const files = event.target.files;
            if (files.length > 0) {
                if (uploadedFolders >= 2) {
                    const password = prompt("You have uploaded 2 texture packs already. Please enter the key to upload more. Get a key in the Key tab.");
                    async function sha256(message) {
                        const msgBuffer = new TextEncoder().encode(message);
                        const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
                        const hashArray = Array.from(new Uint8Array(hashBuffer));
                        return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
                    }

                    const hash = await sha256(password);
                    if (hash !== "47da55e5ea5d96ba8e3a33b0a697401d1d85fae97088a8234f0d4e5e14298817") {
                        alert("Incorrect key. You cannot upload more texture packs.");
                        return;
                    }
                }

                const folderName = files[0].webkitRelativePath.split('/')[0];
                addFolderIcon(folderName);

                let savedFolders = JSON.parse(localStorage.getItem('savedFolders')) || [];
                savedFolders.push(folderName);
                saveFolders(savedFolders);

                uploadedFolders++;
            }
        });

        function checkLastRefresh() {
            const lastRefreshDate = localStorage.getItem('lastRefreshDate');
            const currentTime = new Date().getTime();

            if (!lastRefreshDate) {
            localStorage.setItem('lastRefreshDate', currentTime.toString());
            } else if (currentTime - parseInt(lastRefreshDate) > 43200000) {
            const cloudEnabled = localStorage.getItem('cloudEnabled');
            const catEnabled = localStorage.getItem('catEnabled');
            const isLoggedIn = localStorage.getItem('isLoggedIn');
            localStorage.clear();
            sessionStorage.clear();
            if (cloudEnabled) localStorage.setItem('cloudEnabled', cloudEnabled);
            if (catEnabled) localStorage.setItem('catEnabled', catEnabled);
            if (isLoggedIn) localStorage.setItem('isLoggedIn', isLoggedIn);
            caches.keys().then(names => {
                for (let name of names) caches.delete(name);
            });
            localStorage.setItem('lastRefreshDate', currentTime.toString());
            }
        }

        function showLoadingScreen() {
            const loadingContainer = document.getElementById('fullscreen-iframe-container');
            
            setTimeout(() => {
                loadingContainer.classList.add('fade-out');
                
                setTimeout(() => {
                    loadingContainer.style.display = 'none';
                }, 500);
            }, 3000);
        }

        window.addEventListener('load', () => {
            checkLastRefresh();
            showLoadingScreen();
            loadFolders();
        });

        window.onload = function() {
            const startButton = document.querySelector('.sidebar-link');
            setActiveLink(startButton, 'page1');
        };
    </script>
</body>
</html>